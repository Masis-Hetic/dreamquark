{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/masis/Documents/dreamquark/dreamquark/front/pages/new-organization.js\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport fetch from 'isomorphic-unfetch';\nimport MainComponent from \"../components/main-component/main-component\";\nimport Orga from \"../components/pages/organization/organization.styles\";\nimport Router from 'next/router';\n\nclass NewOrganization extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      orga: ''\n    });\n\n    _defineProperty(this, \"handleChange\", e => {\n      this.setState({\n        orga: e.target.value\n      });\n    });\n\n    _defineProperty(this, \"handleSubmit\", e => {\n      e.preventDefault();\n      const data = {\n        name: this.state.orga\n      };\n      fetch('http://localhost:8080/api/new-organization', {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: _JSON$stringify(data)\n      }).then(res => res.json()).then(response => {\n        response.message;\n        Router.push('/');\n      }).catch(error => console.error('Error:', error));\n    });\n  }\n\n  static async getInitialProps({\n    asPath\n  }) {\n    return {\n      asPath\n    };\n  }\n\n  render() {\n    const {\n      asPath\n    } = this.props;\n    return __jsx(MainComponent, {\n      asPath: asPath,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, __jsx(Orga, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, __jsx(Orga.H1, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, \"Add organization\"), __jsx(Orga.Form, {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, __jsx(Orga.Wrapper, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, __jsx(Orga.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"Organization name :\"), __jsx(Orga.Input, {\n      type: \"text\",\n      placeholder: \"Organization name\",\n      value: this.state.orga,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    })), __jsx(Orga.Wrapper, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, __jsx(Orga.Submit, {\n      type: \"submit\",\n      value: \"Add new organization\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default NewOrganization;","map":{"version":3,"sources":["/Users/masis/Documents/dreamquark/dreamquark/front/pages/new-organization.js"],"names":["React","Component","fetch","MainComponent","Orga","Router","NewOrganization","orga","e","setState","target","value","preventDefault","data","name","state","method","headers","body","then","res","json","response","message","push","catch","error","console","getInitialProps","asPath","render","props","handleSubmit","handleChange"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAiC,oBAAjC;AACA,OAAOC,aAAP,MAAiC,6CAAjC;AACA,OAAOC,IAAP,MAAiC,sDAAjC;AACA,OAAOC,MAAP,MAAiC,aAAjC;;AAEA,MAAMC,eAAN,SAA8BL,SAA9B,CAAwC;AAAA;AAAA;;AAAA,mCAM9B;AACNM,MAAAA,IAAI,EAAE;AADA,KAN8B;;AAAA,0CAUvBC,CAAC,IAAI;AAClB,WAAKC,QAAL,CAAe;AAAEF,QAAAA,IAAI,EAAEC,CAAC,CAACE,MAAF,CAASC;AAAjB,OAAf;AACD,KAZqC;;AAAA,0CAcvBH,CAAC,IAAI;AAClBA,MAAAA,CAAC,CAACI,cAAF;AAEA,YAAMC,IAAI,GAAG;AACXC,QAAAA,IAAI,EAAE,KAAKC,KAAL,CAAWR;AADN,OAAb;AAIAL,MAAAA,KAAK,CAAE,4CAAF,EAAgD;AACnDc,QAAAA,MAAM,EAAE,MAD2C;AAEnDC,QAAAA,OAAO,EAAE;AACP,oBAAU,kBADH;AAEP,0BAAgB;AAFT,SAF0C;AAMnDC,QAAAA,IAAI,EAAE,gBAAgBL,IAAhB;AAN6C,OAAhD,CAAL,CAOIM,IAPJ,CAOUC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAPjB,EAQGF,IARH,CAQSG,QAAQ,IAAI;AACjBA,QAAAA,QAAQ,CAACC,OAAT;AACAlB,QAAAA,MAAM,CAACmB,IAAP,CAAa,GAAb;AACD,OAXH,EAYGC,KAZH,CAYUC,KAAK,IAAIC,OAAO,CAACD,KAAR,CAAe,QAAf,EAAyBA,KAAzB,CAZnB;AAaD,KAlCqC;AAAA;;AACtC,eAAaE,eAAb,CAA6B;AAAEC,IAAAA;AAAF,GAA7B,EAAyC;AAEvC,WAAO;AAAEA,MAAAA;AAAF,KAAP;AACD;;AAgCDC,EAAAA,MAAM,GAAG;AACP,UAAM;AAAED,MAAAA;AAAF,QAAa,KAAKE,KAAxB;AAEA,WACE,MAAC,aAAD;AAAe,MAAA,MAAM,EAAEF,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,IAAD,CAAM,EAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,EAGE,MAAC,IAAD,CAAM,IAAN;AAAW,MAAA,QAAQ,EAAE,KAAKG,YAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEE,MAAC,IAAD,CAAM,OAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADF,EAEE,MAAC,IAAD,CAAM,KAAN;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,WAAW,EAAC,mBAFd;AAGE,MAAA,KAAK,EAAG,KAAKjB,KAAL,CAAWR,IAHrB;AAIE,MAAA,QAAQ,EAAG,KAAK0B,YAJlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAFF,EAYE,MAAC,IAAD,CAAM,OAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,IAAD,CAAM,MAAN;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,KAAK,EAAC,sBAFR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAZF,CAHF,CAFF,CADF;AA6BD;;AApEqC;;AAuExC,eAAe3B,eAAf","sourcesContent":["import React, { Component } from 'react';\nimport fetch                from 'isomorphic-unfetch';\nimport MainComponent        from \"../components/main-component/main-component\";\nimport Orga                 from \"../components/pages/organization/organization.styles\";\nimport Router               from 'next/router';\n\nclass NewOrganization extends Component {\n  static async getInitialProps({ asPath }) {\n\n    return { asPath }\n  };\n\n  state = {\n    orga: ''\n  };\n\n  handleChange = e => {\n    this.setState( { orga: e.target.value } );\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    const data = {\n      name: this.state.orga\n    };\n\n    fetch( 'http://localhost:8080/api/new-organization', {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify( data ),\n    } ).then( res => res.json() )\n      .then( response => {\n        response.message;\n        Router.push( '/' )\n      } )\n      .catch( error => console.error( 'Error:', error ) );\n  };\n\n  render() {\n    const { asPath } = this.props;\n\n    return (\n      <MainComponent asPath={asPath}>\n\n        <Orga>\n          <Orga.H1>Add organization</Orga.H1>\n\n          <Orga.Form onSubmit={this.handleSubmit}>\n\n            <Orga.Wrapper>\n              <Orga.Label>Organization name :</Orga.Label>\n              <Orga.Input\n                type=\"text\"\n                placeholder=\"Organization name\"\n                value={ this.state.orga }\n                onChange={ this.handleChange }\n              />\n            </Orga.Wrapper>\n\n            <Orga.Wrapper>\n              <Orga.Submit\n                type=\"submit\"\n                value=\"Add new organization\"\n              />\n            </Orga.Wrapper>\n\n          </Orga.Form>\n        </Orga>\n      </MainComponent>\n    );\n  }\n}\n\nexport default NewOrganization;\n"]},"metadata":{},"sourceType":"module"}