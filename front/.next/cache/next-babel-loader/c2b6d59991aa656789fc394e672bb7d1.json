{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/masis/Documents/dreamquark/dreamquark/front/pages/new-organization.js\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport fetch from 'isomorphic-unfetch';\nimport MainComponent from \"../components/main-component/main-component\";\nimport Orga from \"../components/pages/organization/organization.styles\";\nimport Router from 'next/router';\n\nvar NewOrganization =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(NewOrganization, _Component);\n\n  function NewOrganization() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, NewOrganization);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(NewOrganization)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      orga: ''\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChange\", function (e) {\n      _this.setState({\n        orga: e.target.value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSubmit\", function (e) {\n      e.preventDefault();\n      var data = {\n        name: _this.state.orga\n      };\n      fetch('http://localhost:8080/api/new-organization', {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: _JSON$stringify(data)\n      }).then(function (res) {\n        return res.json();\n      }).then(function (response) {\n        response.message;\n        Router.push('/');\n      })[\"catch\"](function (error) {\n        return console.error('Error:', error);\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(NewOrganization, [{\n    key: \"render\",\n    value: function render() {\n      var asPath = this.props.asPath;\n      return __jsx(MainComponent, {\n        asPath: asPath,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, __jsx(Orga, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, __jsx(Orga.H1, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, \"Add organization\"), __jsx(Orga.Form, {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, __jsx(Orga.Wrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, __jsx(Orga.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, \"Organization name :\"), __jsx(Orga.Input, {\n        type: \"text\",\n        placeholder: \"Organization name\",\n        value: this.state.orga,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      })), __jsx(Orga.Wrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, __jsx(Orga.Submit, {\n        type: \"submit\",\n        value: \"Add new organization\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      })))));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(_ref) {\n        var asPath;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                asPath = _ref.asPath;\n                return _context.abrupt(\"return\", {\n                  asPath: asPath\n                });\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getInitialProps(_x) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return NewOrganization;\n}(Component);\n\nexport default NewOrganization;","map":{"version":3,"sources":["/Users/masis/Documents/dreamquark/dreamquark/front/pages/new-organization.js"],"names":["React","Component","fetch","MainComponent","Orga","Router","NewOrganization","orga","e","setState","target","value","preventDefault","data","name","state","method","headers","body","then","res","json","response","message","push","error","console","asPath","props","handleSubmit","handleChange"],"mappings":";;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAiC,oBAAjC;AACA,OAAOC,aAAP,MAAiC,6CAAjC;AACA,OAAOC,IAAP,MAAiC,sDAAjC;AACA,OAAOC,MAAP,MAAiC,aAAjC;;IAEMC,e;;;;;;;;;;;;;;;;;;4DAMI;AACNC,MAAAA,IAAI,EAAE;AADA,K;;mEAIO,UAAAC,CAAC,EAAI;AAClB,YAAKC,QAAL,CAAe;AAAEF,QAAAA,IAAI,EAAEC,CAAC,CAACE,MAAF,CAASC;AAAjB,OAAf;AACD,K;;mEAEc,UAAAH,CAAC,EAAI;AAClBA,MAAAA,CAAC,CAACI,cAAF;AAEA,UAAMC,IAAI,GAAG;AACXC,QAAAA,IAAI,EAAE,MAAKC,KAAL,CAAWR;AADN,OAAb;AAIAL,MAAAA,KAAK,CAAE,4CAAF,EAAgD;AACnDc,QAAAA,MAAM,EAAE,MAD2C;AAEnDC,QAAAA,OAAO,EAAE;AACP,oBAAU,kBADH;AAEP,0BAAgB;AAFT,SAF0C;AAMnDC,QAAAA,IAAI,EAAE,gBAAgBL,IAAhB;AAN6C,OAAhD,CAAL,CAOIM,IAPJ,CAOU,UAAAC,GAAG;AAAA,eAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,OAPb,EAQGF,IARH,CAQS,UAAAG,QAAQ,EAAI;AACjBA,QAAAA,QAAQ,CAACC,OAAT;AACAlB,QAAAA,MAAM,CAACmB,IAAP,CAAa,GAAb;AACD,OAXH,WAYU,UAAAC,KAAK;AAAA,eAAIC,OAAO,CAACD,KAAR,CAAe,QAAf,EAAyBA,KAAzB,CAAJ;AAAA,OAZf;AAaD,K;;;;;;;6BAEQ;AAAA,UACCE,MADD,GACY,KAAKC,KADjB,CACCD,MADD;AAGP,aACE,MAAC,aAAD;AAAe,QAAA,MAAM,EAAEA,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,MAAC,IAAD,CAAM,EAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,EAGE,MAAC,IAAD,CAAM,IAAN;AAAW,QAAA,QAAQ,EAAE,KAAKE,YAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEE,MAAC,IAAD,CAAM,OAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,MAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BADF,EAEE,MAAC,IAAD,CAAM,KAAN;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,WAAW,EAAC,mBAFd;AAGE,QAAA,KAAK,EAAG,KAAKd,KAAL,CAAWR,IAHrB;AAIE,QAAA,QAAQ,EAAG,KAAKuB,YAJlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CAFF,EAYE,MAAC,IAAD,CAAM,OAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,MAAC,IAAD,CAAM,MAAN;AACE,QAAA,IAAI,EAAC,QADP;AAEE,QAAA,KAAK,EAAC,sBAFR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAZF,CAHF,CAFF,CADF;AA6BD;;;;;;;;;;;;AAnE8BH,gBAAAA,M,QAAAA,M;iDAEtB;AAAEA,kBAAAA,MAAM,EAANA;AAAF,iB;;;;;;;;;;;;;;;;;;;EAHmB1B,S;;AAuE9B,eAAeK,eAAf","sourcesContent":["import React, { Component } from 'react';\nimport fetch                from 'isomorphic-unfetch';\nimport MainComponent        from \"../components/main-component/main-component\";\nimport Orga                 from \"../components/pages/organization/organization.styles\";\nimport Router               from 'next/router';\n\nclass NewOrganization extends Component {\n  static async getInitialProps({ asPath }) {\n\n    return { asPath }\n  };\n\n  state = {\n    orga: ''\n  };\n\n  handleChange = e => {\n    this.setState( { orga: e.target.value } );\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    const data = {\n      name: this.state.orga\n    };\n\n    fetch( 'http://localhost:8080/api/new-organization', {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify( data ),\n    } ).then( res => res.json() )\n      .then( response => {\n        response.message;\n        Router.push( '/' )\n      } )\n      .catch( error => console.error( 'Error:', error ) );\n  };\n\n  render() {\n    const { asPath } = this.props;\n\n    return (\n      <MainComponent asPath={asPath}>\n\n        <Orga>\n          <Orga.H1>Add organization</Orga.H1>\n\n          <Orga.Form onSubmit={this.handleSubmit}>\n\n            <Orga.Wrapper>\n              <Orga.Label>Organization name :</Orga.Label>\n              <Orga.Input\n                type=\"text\"\n                placeholder=\"Organization name\"\n                value={ this.state.orga }\n                onChange={ this.handleChange }\n              />\n            </Orga.Wrapper>\n\n            <Orga.Wrapper>\n              <Orga.Submit\n                type=\"submit\"\n                value=\"Add new organization\"\n              />\n            </Orga.Wrapper>\n\n          </Orga.Form>\n        </Orga>\n      </MainComponent>\n    );\n  }\n}\n\nexport default NewOrganization;\n"]},"metadata":{},"sourceType":"module"}